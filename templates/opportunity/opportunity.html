{% extends "common/base.html" %}
{% load humanize %}
{% block css %}
    <style>
        .blog .sidebar .tags ul a {
            color: #060606;
            border: 1px solid #d7e6ff;
        }

        .blog .sidebar .tags ul a:hover {
            color: #fff;
            border: 1px solid #fff;
            background: #106f47;
        }

        .single-job.style-two {
            padding: 26px 30px 22px;
            transition: all .4s ease-in-out;
        }

        body.template-color-2 .single-job.style-two:hover {
            border-color: #106f47;
            border-bottom: 1px solid #106f47;
        }

        .single-job.style-two:hover {
            z-index: 9;
        }

        .single-job {
            height: 100%;
            position: relative;
            display: flex;
        {#border: 1px solid #e5e5e5;#} box-shadow: 0 4px 16px rgb(0 0 0 / 10%);
            background: #fff;
            overflow: hidden;
            transition: all .4s ease-in-out;
        }

        .single-job .info-top {
            position: relative;
            z-index: 9;
            display: flex;
            align-items: center;
            width: 100%;
        }

        .single-job .job-image {
            height: auto;
            border: none;
            width: 80px;
            min-width: 80px;
            text-align: center;
            margin: 0 30px 0 0;
            padding: 10px 0;
        }

        a, button, img, input, span {
            transition: all .3s ease 0s;
        }

        .single-job .job-image a img {
            max-width: 100%;
        }

        a, button, img, input, span {
            transition: all .3s ease 0s;
        }

        img {
            vertical-align: middle;
            border-style: none;
        }

        .single-job .job-info {
            width: 100%;
            margin: 0 0 0 auto;
            z-index: 9;
            display: block;
        }

        .single-job .job-info .job-info-inner {
            margin-right: 10px;
        }

        .single-job .job-info .job-info-inner .job-info-top {
            display: flex;
            -webkit-box-pack: justify;
            justify-content: space-between;
        }

        .single-job .job-info .job-info-inner .job-info-top .saveJob {
            display: flex;
            -webkit-box-align: start;
            align-items: flex-start;
            padding: 0;
            -webkit-box-ordinal-group: 3;
            order: 2;
        }

        .featured-label {
            display: inline-block;
            padding: 0 7px;
            font-weight: 700;
            font-size: 14px;
            color: #106f47;
            line-height: 20px;
            text-transform: capitalize;
            border-radius: 3px;
            position: relative;
            z-index: 0;
            background: #dcdcdc;
        }

        .job-type-label {
            font-size: 14px;
            line-height: 16px;
            text-transform: uppercase;
            font-weight: 600;
            color: #069bff !important;
        }

        .mr-20 {
            margin-right: 20px !important;
        }

        .ml-20 {
            margin-left: 20px !important;
        }

        .single-job .job-info .job-info-inner .job-info-top .title-name h3 {
            font-weight: 700;
            font-size: 24px;
            line-height: 1.2;
            margin-bottom: 5px;
        }

        .single-job .job-info .job-info-inner .job-info-top .employer-name {
            margin-bottom: 12px;
        }

        .single-job .job-info .job-info-inner .job-info-top .employer-name a {
            display: inline-block;
            color: #666;
        }

        body.template-color-2 .single-job .job-info .job-info-inner .job-info-top .employer-name a:hover {
            color: #106f47;
        }

        .single-job .job-info .job-info-inner .job-meta-two {
            font-size: 14px;
            line-height: 24px;
            color: #898989;
            font-weight: 400;
            display: flex;
            -webkit-box-align: center;
            align-items: center;
            width: 100%;
        }

        .single-job .job-info .job-info-inner .job-meta-two div.field-salary_from {
            color: #ff2626;
            font-weight: 600;
        }

        .single-job .job-info .job-info-inner .job-meta-two div:first-child {
            padding-left: 0;
            margin-left: 0;
        }

        .single-job .job-info .job-info-inner .job-meta-two div {
            margin-right: 12px;
            position: relative;
        }

        .single-job .job-info .job-info-inner .job-meta-two div {
            padding-left: 12px;
            margin-right: 12px;
            position: relative;
        }

        .single-job .job-info .job-info-inner .job-meta-two i {
            margin-right: 5px;
        }

        .single-job .job-info .job-info-inner .job-skill-tag {
            margin-top: 15px;
        }

        .single-job .job-info .job-info-inner .job-skill-tag a {
            display: inline-block;
            font-size: 13px;
            font-weight: 500;
            padding: 0 10px;
            line-height: 24px;
            margin-top: 5px;
            margin-right: 5px;
            border-radius: 3px;
            background: #eff1f8;
            color: #999;
        }

        .single-job.style-two:hover {
            border-color: #106f47;
            border-bottom: 1px solid #106f47;
        }

        .blog .blog-pagination li.active, .blog .blog-pagination li:hover {
            background: #fff;
        }
    </style>
{% endblock %}
{% block content %}
    <!-- ======= Blog Section ======= -->
    <section id="blog" class="blog" style="margin-top: 90px">
        <div class="container" data-aos="fade-up">

            <div class="row">
                <div class="col-lg-4">

                    <div class="sidebar">

                        <h3 style="color: #060606" class="sidebar-title color-1">Find a Job</h3>
                        <div class="sidebar-item search-form">
                            <form action="">
                                <input type="text" class="form-control">
                                <button style="background-color: #106f47" type="submit"><i class="bi bi-search"></i>
                                </button>
                            </form>
                        </div><!-- End sidebar search form-->

                        <h3 style="color: #060606" class="sidebar-title">Experience</h3>
                        <div class="sidebar-item categories">
                            <form action="" method="get">
                                <ul class="sidebar-cbx-list">
                                    <li>
                                        <div class="filter-name-item">
                                            <input onchange="this.form.submit()" value="0" type="checkbox" name="q"
                                                   id="experience-cbx">
                                            <label for="experience-cbx">Less than 1 year</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input onchange="this.form.submit()" value="1-5" type="checkbox" name="q"
                                                   id="experience-cbx-two">
                                            <label for="experience-cbx-two">1-5 years</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input onchange="this.form.submit()" value="5-8" type="checkbox" name="q"
                                                   id="experience-cbx-three">
                                            <label for="experience-cbx-three">5-8 years</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input onchange="this.form.submit()" value="8" type="checkbox" name="q"
                                                   id="experience-cbx-four">
                                            <label for="experience-cbx-four">8 and More </label>
                                        </div>
                                    </li>
                                </ul>
                            </form>
                        </div><!-- End sidebar categories-->

                        <h3 style="color: #060606" class="sidebar-title">Location</h3>
                        <div class="sidebar-item categories">
                            <form method="get" action="">

                                <select class="nice-select wide form-control" name="q" id=""
                                        onchange="this.form.submit()">
                                    <option value="0">____Search By Locations___</option>
                                    <option value="Dar es salaam">Dar es salaam</option>
                                    <option value="Arusha">Arusha</option>
                                    <option value="Tanga">Tanga</option>
                                    <option value="Kilimanjaro">Kilimanjaro</option>
                                    <option value="Pwani">Pwani</option>
                                    <option value="Dodoma">Dodoma</option>
                                    <option value="Singida">Singida</option>
                                    <option value="Tabora">Tabora</option>
                                    <option value="Mwanza">Mwanza</option>
                                    <option value="Shinyanga">Shinyanga</option>
                                    <option value="Mara">Mara</option>
                                    <option value="Rukwa">Rukwa</option>
                                    <option value="Kagera">Kagera</option>
                                    <option value="Katavi">Katavi</option>
                                    <option value="Njombe">Njombe</option>
                                    <option value="Iringa">Iringa</option>
                                    <option value="Mwanza">Mwanza</option>
                                    <option value="Mbeya">Mbeya</option>
                                    <option value="Morogoro">Morogoro</option>
                                </select>

                            </form>
                        </div>

                        <h3 style="color: #060606" class="sidebar-title">Salary Range</h3>
                        <div class="sidebar-item categories">
                            <form method="get" action="">
                                <div class="input-group" style="width: 100%;">
                                    <select class="form-control" style="width: 100%;" name="q" id=""
                                            onchange="this.form.submit()">
                                        <option value="0">____Search By Salary Range</option>
                                        <option value="0 - 500k">0 - 500k'</option>
                                        <option value="00k - 1M">00k - 1M</option>
                                        <option value="1M - 3M">1M - 3M</option>
                                        <option value="3M - 5M">3M - 5M</option>
                                        <option value="5M - 8M">5M - 8M</option>
                                        <option value="8M and More">8M and More</option>
                                    </select>

                                </div>

                            </form>
                        </div>

                        <h3 style="color: #060606" class="sidebar-title">Job Type</h3>
                        <div class="sidebar-item categories">
                            <form action="" method="get">
                                <ul class="sidebar-cbx-list">
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="contractual" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx">
                                            <label for="type-cbx">Contract (0)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="freelance" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx">
                                            <label for="type-cbx">Freelance (0)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="voluntering" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx-two">
                                            <label for="type-cbx-two"> Volunteering (3)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="full time" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx-three">
                                            <label for="type-cbx-three">Full Time (13)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="internship" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx-four">
                                            <label for="type-cbx-four">Internship (1)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="part-time" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx-five">
                                            <label for="type-cbx-five">Part Time (2)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="remote" onchange="this.form.submit()" type="checkbox" name="q"
                                                   id="type-cbx-six">
                                            <label for="type-cbx-six">Remote (2)</label>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="filter-name-item">
                                            <input value="temporary" onchange="this.form.submit()" type="checkbox"
                                                   name="q" id="type-cbx-seven">
                                            <label for="type-cbx-seven">Temporary (2)</label>
                                        </div>
                                    </li>
                                </ul>
                            </form>
                        </div>


                        <h3 style="color: #060606" class="sidebar-title">Skills</h3>
                        <div class="sidebar-item tags">
                            <ul class="sidebar-tag">
                                <li><a href="?q=software">software</a></li>
                                <li><a href="?q=manager">Manager</a></li>
                                <li><a href="?q=mobile">Mobile</a></li>
                                <li><a href="?q=web">Web dev</a></li>
                                <li><a href="?q=app">app</a></li>
                                <li><a href="?q=python">python</a></li>
                                <li><a href="?q=businesss">Business Development</a></li>
                                <li><a href="?q=market">Market</a></li>
                            </ul>
                        </div><!-- End sidebar tags-->

                    </div><!-- End sidebar -->

                </div><!-- End blog sidebar -->

                <div class="col-lg-8 entries">
                    {% for data in opps %}
                        {#                        <article class="entry">#}

                        <div class="row mb-2">

                            <div class="col-lg-12 mb-20">
                                <!-- Single Job Start  -->
                                <div class="single-job style-two">
                                    <div class="info-top">
                                        <div class="job-image">
                                            <a href="{% url 'opp_details' data.id %}">
                                                {% if data.logo %}
                                                    <img src="{{ data.logo.url }}" alt="logo">
                                                {% endif %}
                                            </a>
                                        </div>
                                        <div class="job-info">
                                            <div class="job-info-inner">
                                                <div class="job-info-top">
                                                    <div class="saveJob for-listing">
                                                        <span class="featured-label">{{ data.category }}</span>
                                                        {% if user.is_authenticated and user.profile.user_type == 'talent' %}
                                                            <form method="post" action="{% url 'mark' %}">
                                                                {% if request.user in data.marked.all %}
                                                                    <buttom class="save-job" id="mark"
                                                                            value="{{ data.id }}">
                                                                        <i id="mark{{ data.id }}"
                                                                           class="fas fa-bookmark"
                                                                           style="color: red;"></i>
                                                                    </buttom>
                                                                {% else %}
                                                                    <buttom class="save-job" id="mark"
                                                                            value="{{ data.id }}">
                                                                        <i id="mark{{ data.id }}"
                                                                           class="far fa-bookmark"
                                                                           style="color:red;"></i>
                                                                    </buttom>
                                                                {% endif %}
                                                            </form>
                                                        {% endif %}
                                                    </div>
                                                    <div class="title-name">
                                                        <h3 class="job-title">
                                                            <a style="color: #060606"
                                                               href="{% url 'opp_details' data.id %}">{{ data.title }}</a>
                                                        </h3>
                                                        <div class="employer-name">
                                                            <a href="{% url 'opp_details' data.id %}">{{ data.startup_name.name.capitalize }}</a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="job-meta-two">
                                                    <div class="field-salary_from">
                                                        {% if data.salary_range == '0' %}
                                                            Confidential
                                                        {% else %}
                                                            Tsh{{ data.salary_range }} / month
                                                        {% endif %}
                                                    </div>
                                                    <div class="field-datetime"><i
                                                            class="bi bi-clock"></i>{{ data.published }}</div>
                                                    <div class="field-map"><i
                                                            class="bi bi-pin-map-fill"></i>{{ data.location }}
                                                    </div>
                                                </div>
                                                <div class="job-skill-tag">
                                                    <a href="#">Android</a>
                                                    <a href="#">app</a>
                                                    <a href="#">ReactJs</a>
                                                    <a href="#">Ruby</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Single Job End -->
                            </div>


                        </div>

                        {#                        </article><!-- End blog entry -->#}
                        {% empty %}
                        <span style="font-size: 25px; margin-left: 40px;"
                              class="text-danger font-weight-bolder ml-5">No result for found</span>
                    {% endfor %}

                    <div class="blog-pagination">
                        <nav aria-label="Page navigation example">
                            {% if opps.has_other_pages %}
                                <ul class="pagination">
                                    {% if opps.has_previous %}
                                        <li class="page-item">
                                            <a class="page-link text-dark"
                                               href="?page={{ opps.previous_page_number }}"
                                               aria-label="Previous">
                                                <span aria-hidden="true">&laquo;</span>
                                            </a>
                                        </li>
                                    {% else %}
                                        <li class="page-item disabled text-center"></li>
                                    {% endif %}

                                    {% for i in opps.paginator.page_range %}
                                        {% if opps.number == i %}
                                            <li class="page-item "><a
                                                    class="page-link  bg-warning text-dark"
                                                    href="?page={{ i }}">{{ i }}</a></li>
                                        {% else %}
                                            <li class="page-item"><a class="page-link text-dark"
                                                                     href="?page={{ i }}">{{ i }}</a></li>
                                        {% endif %}
                                    {% endfor %}

                                    {% if opps.has_next %}
                                        <li class="page-item">
                                            <a class="page-link text-dark"
                                               href="?page={{ opps.next_page_number }}" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                            </a>
                                        </li>
                                    {% else %}
                                        <li class="page-item disabled text-center"></li>
                                    {% endif %}
                                </ul>
                            {% endif %}
                        </nav>
                    </div>

                </div><!-- End blog entries list -->
            </div>

        </div>
    </section><!-- End Blog Section -->

{% endblock %}

{% block js %}

{% endblock %}
